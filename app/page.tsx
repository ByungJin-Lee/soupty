"use client";

import { invoke } from "@tauri-apps/api/core";
import { useState } from "react";

const analyze = async (text: string) => {
  const res: object = await invoke("analyze_chat", {
    text,
  });

  return {
    text,
    ...res,
  };
};

export default function Home() {
  const [txt, setText] = useState("");

  const handleClick = async () => {
    const positive_promises = [
      "ㅋㅋㅋㅋㅋㅋㅋㅋ아 진짜 개웃기네",
      "와 이걸 이기네 ㅋㅋㅋㅋㅋ 레전드",
      "형 오늘 폼 미쳤다",
      "나이스!!!!",
      "이 집 방송 잘하네 ㅋㅋ 구독 박고 갑니다",
      "오늘 방송 꿀잼이네",
      "언니 너무 귀여워요 ㅠㅠ",
      "가즈아ㅏㅏㅏㅏㅏ",
      "와 방금 플레이는 진짜 지렸다",
      "이게 되네 ㅋㅋㅋㅋ",
      "ㄹㅇ 레전드 방송이다 오늘",
      "믿고 있었다구!",
      "역시 우리형",
      "텐션 좋고~",
      "이 맛에 방송 보지 ㅋㅋ",
      "오늘 의상 너무 예뻐요!",
      "만 원 후원! 항상 응원합니다",
      "이걸 살리네 ㅋㅋㅋㅋㅋ",
      "ㅇㅈ 쌉인정",
      "크으~ 주모!",
      "텐션 미쳤다 오늘 ㅋㅋㅋ",
      "이 노래 뭐에요? 너무 좋은데",
      "게임 너무 잘하시는 거 아니에요? ㄷㄷ",
      "시간 가는 줄 모르고 봤네",
      "이 스트리머는 진짜 찐이다",
      "와! 채팅 바로 읽어주네. 고마워요!",
      "오늘도 방송 켜줘서 고마워요",
      "목소리 너무 좋아요",
      "ㅋㅋㅋㅋㅋㅋ아 배아파",
      "최고다 진짜",
      "이게 프로게이머지",
      "드디어 이겼다! 축하해요!",
      "방금 리액션 개혜자 ㅋㅋㅋ",
      "이 게임 재밌어 보이네요",
      "형 사랑해",
      "기분 좋아지는 방송이다",
      "ㅋㅋㅋㅋㅋ타이밍 미쳤네",
      "설명 너무 잘해주신다",
      "아 진짜 힐링된다",
      "이걸 예측했다고? ㄷㄷ",
      "우리 스트리머가 최고야",
      "이 조합 신선하고 좋네",
      "다음에도 이 게임 또 해주세요!",
      "ㅋㅋㅋㅋㅋ 미친 드립력",
      "역시 믿고 보는 방송",
      "오늘 하이라이트 각이다",
      "너무 웃어서 눈물 나옴",
      "좋아요 누르고 갑니다~",
      "수고했어요! 오늘 방송도 최고!",
      "와! 구독 감사합니다 리액션 혜자네",
    ].map(analyze);

    console.log(await Promise.all(positive_promises));

    const negative_promises = [
      "아... 그걸 죽네",
      "진짜 답답하다",
      "오늘 방송 왜 이럼? 노잼인데",
      "뭐하냐 진짜 ㅋㅋㅋㅋ",
      "아오 킹받네",
      "이걸 진다고?",
      "채팅 좀 읽어주세요",
      "텐션 너무 낮은 거 아니에요?",
      "뇌절 그만 좀...",
      "아니 거기서 그렇게 하면 어떡함",
      "이 게임 왜 하는 거임? 망겜인데",
      "분위기 싸해지는 거 봐",
      "언제까지 할 거임? 지루하다",
      "아 진짜 열받네",
      "실망이다 진짜",
      "이게 맞냐?",
      "억까 좀 그만해",
      "방송 접어라 그냥",
      "보는 내가 다 스트레스 받네",
      "아니 여기서 왜 싸워줌?",
      "좀 집중 좀 해봐요",
      "오늘따라 왜 이렇게 못함?",
      "또 졌네 또 졌어",
      "이해가 안 되네 플레이가",
      "그만하고 다른 게임 ㄱㄱ",
      "아까부터 계속 똑같은 실수하네",
      "저게 프로라고?",
      "텐션 억지로 올리는 거 다 티 나요",
      "목소리 왜 이렇게 작음?",
      "갑자기 정색 빠네",
      "아 진짜 화난다",
      "보는 사람 생각은 안 하냐?",
      "이럴 거면 방송 왜 킴?",
      "훈수 두는 게 아니라 진짜 답답해서 그래",
      "아오 혈압 올라",
      "게임 수준 실화냐?",
      "딥빡...",
      "제발 좀...",
      "아니 그걸 왜 삼?",
      "그렇게 할 거면 솔랭을 돌려",
      "시간 아깝다",
      "아... 방금 건 좀...",
      "채팅창 얼어붙은 거 봐라",
      "재미도 없고 감동도 없고",
      "이길 생각은 있는 거임?",
      "이건 아니지",
      "보는 내가 다 민망하네",
      "한숨만 나온다 진짜",
      "내일 다시 올게요 오늘은 못 보겠다",
      "그냥 방종하자",
    ].map(analyze);

    console.log(await Promise.all(negative_promises));

    const ambiguous_promises = [
      "재밌긴 한데 너무 어렵네요.",
      "캐릭터는 예쁜데 성능이 좀 아쉽다.",
      "이겨서 좋긴 한데 과정이 너무 힘들었어.",
      "설명은 좋은데 말이 좀 빠른 것 같아요.",
      "리액션은 좋은데 너무 짧아서 감질나네.",
      "스토리는 괜찮은데 그래픽이 별로네.",
      "목소리는 참 좋은데 욕을 너무 많이 하셔.",
      "게임은 잘하는데 소통을 너무 안 하네.",
      "이길 줄 알았는데 져서 아쉽다.",
      "가격은 싼데 품질은 잘 모르겠음.",

      "이 게임 이름이 뭐에요?",
      "오늘 방송 몇 시까지 하세요?",
      "BGM 정보 좀 알 수 있을까요?",
      "다들 저녁 드셨나요?",
      "화장실 좀 다녀올게요.",
      "아까 그 아이템 이름이 뭐였죠?",
      "이거 유료 게임인가요?",
      "다음 게임은 뭐예요?",
      "구독하면 뭐가 좋아요?",
      "여기는 처음 와보네요.",

      "음...",
      "흠.",
      "그렇군요.",
      "알겠습니다.",
      "일단 보고 있을게요.",
      "그럴 수 있죠.",
      "그런 방법이 있었네.",
      "생각 좀 해볼게요.",
      "확인.",
      "그랬구나.",

      "참 잘한다 잘해~",
      "이게 최선인가요?",
      "어디까지 가나 한번 보자.",
      "기대되네요 아주 그냥.",
      "그럴 줄 알았다.",
      "의도는 좋았다고 생각합니다.",
      "대단하시네요 정말.",
      "그렇게 해서 이길 수 있겠어요?",
      "신기하네.",
      "재밌는 분이시네.",

      "어?",
      "엥?",
      "방금 뭐였지?",
      "아슬아슬하네.",
      "애매하다.",
      "이길 수 있을까?",
      "이거 버그인가?",
      "다시 한번만 보여주세요.",
      "이게 되네.",
      "뭐라고요?",
    ].map(analyze);

    console.log(await Promise.all(ambiguous_promises));
  };

  return (
    <div>
      <button onClick={handleClick}>한번</button>
      <input
        type="text"
        value={txt}
        onChange={(e) => setText(e.target.value)}
        // onKeyDown={(e) => e.key === "Enter" && handleClick()}
        name=""
        id=""
      />
    </div>
  );
}
